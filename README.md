
#  Regula Document Reader (React-Native version)

Regula Document Reader SDK allows you to read various kinds of identification documents, passports, driving licenses, ID cards, etc. All processing is performed completely  _**offline**_  on your device. No any data leaving your device.

You can use native camera to scan the documents or image from gallery for extract all data from it.

We have provided a simple application that demonstrates the  _**API**_  calls you can use to interact with the DocumentReader Library.

- [How to build demo application](#how-to-build-demo-application)
- [Troubleshooting license issues](#troubleshooting-license-issues)
- [npm packages](#npm-packages)

## How to build demo application
1. Get a trial license for demo application at  [licensing.regulaforensics.com](https://licensing.regulaforensics.com/)  (`regula.license`  file).
2. Download and install the latest [Android Studio](https://developer.android.com/studio/index.html) and [Xcode](https://developer.apple.com/xcode/download).
3. Run the following commands in Terminal:
```bash
react-native init DocumentReader
cd DocumentReader
npm install react-native-document-reader-api --save
npm install react-native-document-reader-core-fullrfid --save
npm install react-native-fs --save
npm install react-native-radio-buttons-group --save
npm install react-native-image-picker --save
npm install --save-dev jetifier
npx jetify
```

**Note**: make sure that Metro Bundler is running. Otherwise, run `react-native start` command.

4. Download or clone current repository using command  `git clone https://github.com/regulaforensics/react-native-document-reader-example-demo.git`. 
5. Copy downloaded `images` folder to the project folder (`DocumentReader`).
6. Replace autogenerated `App.js` file with downloaded `App.js` file from the repository in the project folder (`DocumentReader`).
7. Android:
 * Add Maven URLs to the `build.gradle` (`DocumentReader/android/build.gradle`):
```
maven {
	url "http://maven.regulaforensics.com/RegulaDocumentReader"
}
maven {
	url "http://maven.regulaforensics.com/RegulaDocumentReader/Beta"
}
```
 * Change the `minSdkVersion` to `19` in `build.gradle` (`DocumentReader/android/build.gradle`).
 * Go to Android Manifest (`DocumentReader/android/app/src/main/AndroidManifest.xml`) and check if the following lines have these conditions: `android:allowBackup="true"` and `android:supportsRtl="true"`. The second one is used to display RFID UI correctly.
 * Copy the license to `DocumentReader/android/app/src/main/assets`.
 * Run `react-native run-android` inside DocumentReader project folder - this is just one way to run the app. You can also run it directly from within Android Studio. **Note**: `react-native log-android` is used to view logs.

8. iOS:
  * Copy the license to `DocumentReader/ios/DocumentReader`.
  * Open project and add the license to the target.
  * Add API and Core frameworks to the Embedded Binaries: `DocumentReader/node_modules/react-native-document-reader-api/ios/DocumentReader.framework` and `DocumentReader/node_modules/react-native-document-reader-core-fullrfid/ios/DocumentReaderCore.framework`.
  * Go to the `Build Settings` and change `Always Embed Swift Standard Libraries` to `Yes`.
  * Go to the `Build Settings` and add to `Framework Search Paths` the following: `${PROJECT_DIR}/../node_modules/react-native-document-reader-api/ios` and `${PROJECT_DIR}/../node_modules/react-native-document-reader-core-fullrfid/ios`.
  * Add the information properties to the `Info.plist`: `Privacy - Camera Usage Description` and `Privacy - Photo Library Usage Description`. It's required in order to take a photo using camera and use photos from the gallery.
  * Run `react-native run-ios` inside DocumentReader project folder - this is just one way to run the app. You can also run it directly from within Xcode.

## Troubleshooting license issues
If you have issues with license verification when running the application, please verify that next is true:

1.  OS you are using is the same as in the license you received (Android / iOS).
2.  Application ID is the same as you've specified for license.
3.  Date and time on the device you are trying to run the application is correct and inside the license validity period.
4.  You are using the latest release version of the SDK.
5.  You placed the  `license` into the correct folder as described here [How to build demo application](#how-to-build-demo-application) (`DocumentReader/android/app/src/main/assets`  or  `DocumentReader/iOS`  folder).
6.  You placed the  `db.dat`  into the correct folder as described here [How to build demo application](#how-to-build-demo-application) (`DocumentReader/app/src/main/assets`  or  `DocumentReader/iOS`  folder).

## npm packages
You can find all available packages for React-Native [here](https://www.npmjs.com/~regula).
